@model MVC.Models.Order

<h2>Th√™m m·ªõi h√≥a ƒë∆°n</h2>

@if (TempData["Success"] != null)
{
    <div class="alert alert-success">
        @TempData["Success"]
    </div>
}

@foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
{
    <div class="alert alert-danger">
        @error.ErrorMessage
    </div>
}

<form asp-action="CreateOrders" method="post" class="form">
    <div class="form-group">
        <label for="CustomerId">Th√¥ng tin kh√°ch h√†ng</label>
        <select asp-for="CustomerId" class="form-control pt-2 pb-2 mb-2" required id="CustomerId" style="width: 100%;">
            <option value="">-- Vui l√≤ng ch·ªçn --</option>
            @foreach (var customer in ViewBag.Customers)
            {
                <option value="@customer.CustomerId">@customer.CustomerId - @customer.FirstName @customer.LastName</option>
            }
        </select>
        <span asp-validation-for="CustomerId" class="text-danger"></span>
    </div>

    <div class="form-group mb-3">
        <label for="OrderDate">Ng√†y ƒë·∫∑t</label>
        <input asp-for="OrderDate" class="form-control" type="date" required />
    </div>


    <div class="form-group">
        <label>Total Amount</label>
        <input asp-for="TotalAmount" class="form-control" />
    </div>

    <div class="form-group">
        <label>PetId (n·∫øu c√≥)</label>
        <select asp-for="PetId" class="form-control">
            <option value="">-- Kh√¥ng ch·ªçn --</option>
            @foreach (var pet in ViewBag.Pets)
            {
                <option value="@pet.PetId">@pet.PetId - @pet.PetName</option>
            }
        </select>
    </div>

    <div class="form-group">
        <label>ProductId (n·∫øu c√≥)</label>
        <select asp-for="ProductId" class="form-control">
            <option value="">-- Kh√¥ng ch·ªçn --</option>
            @foreach (var product in ViewBag.Products)
            {
                <option value="@product.ProductId">@product.ProductId - @product.ProductName</option>
            }
        </select>
    </div>

    <br />
    <button type="submit" class="btn btn-primary">Th√™m</button>
    <a href="/Hoadon" class="btn btn-success">H·ªßy</a>
</form>


<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


<!-- Kh·ªüi t·∫°o Select2 -->
@section Scripts {
    <!-- CSS & JS c·ªßa Select2 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>

    <script>
        $(document).ready(function () {
            $('#CustomerId').select2({
                placeholder: "üßê Nh·∫≠p t√™n ho·∫∑c id ƒë·ªÉ t√¨m ki·∫øm ho·∫∑c ch·ªçn ... ",
                allowClear: true
            });
            $('#PetId').select2({
                placeholder: "üßê Nh·∫≠p t√™n ho·∫∑c id ƒë·ªÉ t√¨m ki·∫øm ho·∫∑c ch·ªçn ... ",
                allowClear: true
            });
            $('#ProductId').select2({
                placeholder: "üßê Nh·∫≠p t√™n ho·∫∑c id ƒë·ªÉ t√¨m ki·∫øm ho·∫∑c ch·ªçn ... ",
                allowClear: true
            });
        });
    </script>
}
