@model MVC.Models.CustomerPet


@if (@Model.Status == "Ho√†n th√†nh")
{
    <h2>Kh√¥ng th·ªÉ s·ª≠a th√¥ng tin d·ªãch v·ª• c√≥ ID: @Model.CustomerId</h2>
    <h3 class="mt-3 text-warning">Kh√¥ng th·ªÉ s·ª≠a khi ƒëang trong tr·∫°ng th√°i ho√†n th√†nh</h3>
    <div class="mt-2">
        <a href="/Dvdanglam" class="btn btn-secondary ms-2">‚Ü©Ô∏è Quay l·∫°i</a>
    </div>
}
else
{
    <h2>S·ª≠a th√¥ng tin d·ªãch v·ª• c√≥ ID: @Model.CustomerId</h2>
    <form asp-action="EditCustomerPet" method="post">
        <!-- Display validation errors -->
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input type="hidden" asp-for="CustomerPetId" />
        <div class="form-group mb-3">
            <label>Kh√°ch h√†ng</label>
            <select id="CustomerId" asp-for="CustomerId" asp-items="ViewBag.Customers"
                class="form-control form-control-lg mb-4">
                <option value="">--Ch·ªçn Kh√°ch h√†ng--</option>
            </select>
            <span asp-validation-for="CustomerId" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label>D·ªãch v·ª•</label>
            <select id="ProductId" asp-for="ProductId" asp-items="ViewBag.Products"
                class="form-control form-control-lg mb-4">
                <option value="">--Ch·ªçn s·∫£n ph·∫©m--</option>
            </select>
            <span asp-validation-for="ProductId" class="text-danger"></span>
        </div>

        <label>Pet Name</label>
        <input asp-for="PetName" class="form-control" />
        <span asp-validation-for="PetName" class="text-danger"></span>

        <div class="mt-2">
            <button type="submit" class="btn btn-primary">üíæ L∆∞u thay ƒë·ªïi</button>
            <a href="/Dvdanglam" class="btn btn-secondary ms-2">‚Ü©Ô∏è Quay l·∫°i</a>
        </div>
    </form>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    @section Scripts {
        <!-- Select2 CSS -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/css/select2.min.css" rel="stylesheet" />

        <!-- Select2 JS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/js/select2.full.min.js"></script>

        <script>
            $(document).ready(function () {
                console.log('CustomerId element:', $('#CustomerId').length);
                console.log('ProductId element:', $('#ProductId').length);

                if ($('#CustomerId').length) {
                    $('#CustomerId').select2({
                        placeholder: "--Ch·ªçn Kh√°ch h√†ng--",
                        allowClear: true
                    });
                }
                if ($('#ProductId').length) {
                    $('#ProductId').select2({
                        placeholder: "--Ch·ªçn d·ªãch v·ª•--",
                        allowClear: true
                    });
                }
            });
        </script>
    }
}