@model CustomerPetListViewModel

<h2 class="mb-4">üìã Danh s√°ch kh√°ch h√†ng ƒëang s·ª≠ d·ª•ng d·ªãch v·ª•</h2>

<div class="table-responsive">
    <table class="table table-striped table-bordered align-middle text-center">
        <thead class="table-light">
            <tr>
                <th>Customer Pet ID</th>
                <th>Customer Name</th>
                <th>Pet Name</th>
                <th>Product Name</th>
                <th>Tr·∫°ng th√°i</th>
                <th>Thao t√°c</th>
            </tr>
        </thead>
        <tbody>
            @if (Model == null || Model.CustomerPets.Count == 0)
            {
                <tr>
                    <td colspan="6" class="text-center text-danger">
                        Kh√¥ng c√≥ th√¥ng tin d·ªãch v·ª• n√†o. Vui l√≤ng quay l·∫°i trang tr∆∞·ªõc ho·∫∑c t·∫°o m·ªõi.
                        <a href="/Dvdanglam" class="btn btn-secondary ms-2">‚Ü©Ô∏è Quay l·∫°i</a>
                    </td>
                </tr>
            }
            else
            {
                @foreach (var customerPet in Model.CustomerPets)
                {
                    <tr>
                        <td>@customerPet.CustomerPetId</td>
                        <td>@customerPet.LastName @customerPet.FirstName</td> <!-- T√™n kh√°ch h√†ng -->
                        <td>@customerPet.PetName</td>
                        <td>@customerPet.ProductName</td> <!-- T√™n d·ªãch v·ª• (s·∫£n ph·∫©m) -->
                        <td>
                            <button class="btn btn-sm @(customerPet.Status == "Ho√†n th√†nh" ? "btn-success" : "btn-secondary")"
                                onclick="toggleStatus(@customerPet.CustomerPetId, this)">
                                @customerPet.Status
                            </button>
                        </td>
                        <td>
                            <div class="d-flex flex-column flex-sm-row justify-content-center gap-2">
                                <form asp-action="DeleteCustomerPet" asp-controller="CustomerPet" method="post"
                                    onsubmit="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a?');" class="d-inline">
                                    <input type="hidden" name="id" value="@customerPet.CustomerPetId" />
                                    <input type="hidden" name="page" value="@Model.CurrentPage" />
                                    <button type="submit" class="btn btn-danger btn-sm">üôÖ‚Äç‚ôÇÔ∏è X√≥a</button>
                                </form>

                                <a asp-action="EditCustomerPet" asp-controller="CustomerPet"
                                    asp-route-id="@customerPet.CustomerPetId" asp-route-page="@Model.CurrentPage"
                                    class="btn btn-warning btn-sm">üë®‚Äçüîß S·ª≠a</a>
                            </div>
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>

<div class="d-flex justify-content-between align-items-center flex-wrap mt-3">
    <a asp-action="CreateCustomerPets" asp-controller="CustomerPet" class="btn btn-success mb-2">üôã Th√™m th√¥ng tin d·ªãch
        v·ª• m·ªõi</a>
    <div>
        @await Html.PartialAsync("_Pagination", Model)
    </div>
</div>

